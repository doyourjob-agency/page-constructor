import{R as t,r as N,z as j,a4 as U,b as V}from"./iframe-CNS0eWLh.js";import{I}from"./Image-BrZOpAVQ.js";import{a as z}from"./addComponentKeysets-DUkd4oDt.js";import{X as K}from"./Xmark-IjF-afpp.js";import{I as R}from"./Icon-CWqAhzzN.js";import{u as Y,a as G,C as J,g as Q,P as ee,F as te}from"./transition-Do5hAiLL.js";let m=0,S;function ae({enabled:e}){t.useLayoutEffect(()=>{if(e)return m++,m===1&&se(),()=>{m--,m===0&&ne()}},[e])}function se(){const e=le(),s=oe(),n=re();S=document.body.style.cssText,document.body.style.overflow="hidden",e&&(document.body.style.paddingRight=`${n.right+e}px`),s&&(document.body.style.paddingBottom=`${n.bottom+s}px`)}function ne(){S?document.body.style.cssText=S:document.body.removeAttribute("style")}function le(){return window.innerWidth-document.documentElement.clientWidth}function oe(){return window.innerHeight-document.documentElement.clientHeight}function re(){const e=window.getComputedStyle(document.body);return{top:Number.parseFloat(e.paddingTop),right:Number.parseFloat(e.paddingRight),bottom:Number.parseFloat(e.paddingBottom),left:Number.parseFloat(e.paddingLeft)}}const ie=e=>N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),N.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.754 2.004a.75.75 0 0 0 0 1.5h4.75v4.742a.75.75 0 0 0 1.5 0V2.754a.75.75 0 0 0-.75-.75h-5.5Zm.492 11.992a.75.75 0 0 0 0-1.5h-4.75V7.754a.75.75 0 0 0-1.5 0v5.492a.75.75 0 0 0 .75.75h5.5Z",clipRule:"evenodd"})),l=j("modal");function ce({open:e=!1,keepMounted:s=!1,disableBodyScrollLock:n=!1,disableEscapeKeyDown:u,disableOutsideClick:p,disableFocusTrap:f,disableAutoFocus:o,focusTrap:r=!0,autoFocus:i=!0,restoreFocusRef:c,onEscapeKeyDown:P,onEnterKeyDown:q,onOutsideClick:x,onClose:M,onTransitionEnter:g,onTransitionEntered:y,onTransitionExit:b,onTransitionExited:v,children:H,style:O,contentOverflow:k="visible",className:B,contentClassName:_,"aria-labelledby":W,"aria-label":$,container:D,qa:Z}){const E=t.useRef(null),w=t.useRef(null),[h,d]=t.useState(!1);ae({enabled:!n&&(e||h)});const A=Y({enabled:e||h,restoreFocusRef:c,focusTrapped:!0});return G({open:e,disableEscapeKeyDown:u,disableOutsideClick:p,onEscapeKeyDown:P,onEnterKeyDown:q,onOutsideClick:x,onClose:M,contentRefs:[w],type:"modal"}),t.createElement(J,{nodeRef:E,in:e,addEndListener:X=>{var C;return(C=E.current)===null||C===void 0?void 0:C.addEventListener("animationend",X)},classNames:Q(l),mountOnEnter:!s,unmountOnExit:!s,appear:!0,onEnter:()=>{d(!0),g==null||g()},onExit:()=>{d(!0),b==null||b()},onEntered:()=>{d(!1),y==null||y()},onExited:()=>{d(!1),v==null||v()}},t.createElement(ee,{container:D},t.createElement("div",{ref:E,style:O,className:l({open:e},B),"data-qa":Z},t.createElement("div",{className:l("content-aligner")},t.createElement("div",{className:l("content-wrapper")},t.createElement(te,{enabled:!f&&r&&e&&!h,autoFocus:!o&&i},t.createElement("div",Object.assign({ref:w,tabIndex:-1,role:"dialog","aria-modal":e,"aria-label":$,"aria-labelledby":W,className:l("content",{"has-scroll":k==="auto"},_)},A),H)))))))}const de="Close",me={"img-alt":"Full screen image",close:de},ue="Закрыть",pe={"img-alt":"Полноэкранное изображение",close:ue},T=z({en:me,ru:pe},`${U}FullscreenImage`),a=V("fullscreen-image"),L=18,F=24,fe=e=>{const{imageClassName:s,modalImageClass:n,imageStyle:u,alt:p=T("img-alt"),extraProps:f}=e,[o,r]=N.useState(!1),i=()=>r(!0),c=()=>r(!1);return t.createElement("div",{className:a(),...f},t.createElement("div",{className:a("image-wrapper")},t.createElement(I,{...e,alt:p,className:a("image",s),onClick:i,style:u}),t.createElement("button",{className:a("icon-wrapper"),onClick:i},t.createElement(R,{data:ie,width:L,height:L,className:a("icon")}))),o&&t.createElement(ce,{open:o,onClose:c,className:a("modal"),contentClassName:a("modal-content")},t.createElement("button",{className:a("icon-wrapper",{visible:!0}),onClick:c,"aria-label":T("close")},t.createElement(R,{data:K,width:F,height:F,className:a("icon",{hover:!0})})),t.createElement(I,{...e,className:a("modal-image",n)})))};fe.__docgenInfo={description:"",methods:[],displayName:"FullscreenImage",props:{qa:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""},className:{required:!1,tsType:{name:"string"},description:""},onClick:{required:!1,tsType:{name:"MouseEventHandler"},description:""},onLoad:{required:!1,tsType:{name:"ReactEventHandler",elements:[{name:"HTMLDivElement"}],raw:"ReactEventHandler<HTMLDivElement>"},description:""},containerClassName:{required:!1,tsType:{name:"string"},description:""},extraProps:{required:!1,tsType:{name:"HTMLProps",elements:[{name:"HTMLDivElement"}],raw:"HTMLProps<HTMLDivElement>"},description:""},imageClassName:{required:!1,tsType:{name:"string"},description:""},modalImageClass:{required:!1,tsType:{name:"string"},description:""},imageStyle:{required:!1,tsType:{name:"CSSProperties"},description:""}},composes:["Partial"]};export{ie as C,fe as F,ce as M,ae as u};
