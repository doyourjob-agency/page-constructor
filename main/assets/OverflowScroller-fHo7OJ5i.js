import{a4 as w,R as i,r as u,b as g}from"./iframe--8y_hAUE.js";import{d as R}from"./debounce-B9-LisEC.js";import{a as v}from"./addComponentKeysets-BL6FKVwe.js";import{T as S}from"./ToggleArrow-NYbmiJBs.js";const E="Previous",y="Next",N={left:E,right:y},T="Предыдущий",W="Следующий",O={left:T,right:W},k=v({en:N,ru:O},`${w}OverflowScroller`),h=g("overflow-scroller"),A=300,m=24,C=18;class V extends i.Component{constructor(){super(...arguments),this.state={arrows:[],scrollValue:0},this.containerRef=u.createRef(),this.wrapperRef=u.createRef(),this.checkOverflow=R(()=>{if(this.containerRef&&this.containerRef.current&&this.wrapperRef&&this.wrapperRef.current){const o=this.containerRef.current.offsetWidth,t=this.wrapperRef.current.offsetWidth,e=0,a=t<o?[]:["right"];this.setState({scrollValue:e,arrows:a})}},100),this.handleScrollClick=(o,t)=>{const{scrollValue:e,arrows:a}=this.state,{onScrollStart:r}=this.props;if(this.containerRef&&this.containerRef.current&&this.wrapperRef&&this.wrapperRef.current){const s=this.containerRef.current.offsetWidth,p=this.wrapperRef.current.offsetWidth,c=t==="right"?p-(s+e):e,f=a.length>1&&c+m>s?m:0,n=s>c?c:s,l=t==="right"?e+n+f:e-n-f;let d=["left","right"];l+s>=p?d=["left"]:l||(d=["right"]),this.setState({arrows:d,scrollValue:l}),r&&r(),o.stopPropagation()}}}componentDidMount(){this.checkOverflow(),window.addEventListener("resize",this.checkOverflow,{passive:!0})}componentDidUpdate(o,{scrollValue:t}){const{onScrollEnd:e}=this.props;t!==this.state.scrollValue&&e&&setTimeout(e,A+100)}componentWillUnmount(){window.removeEventListener("resize",this.checkOverflow)}render(){const{className:o,arrowClassName:t,children:e,arrowSize:a=C}=this.props,{arrows:r,scrollValue:s}=this.state,p=r.length?{left:-s}:{left:0},c=r.includes("left"),f=r.includes("right");return i.createElement("div",{className:h("container",{"padding-left":c,"padding-right":f})},i.createElement("div",{className:h(null,o),ref:this.containerRef},i.createElement("div",{className:h("wrapper"),style:p,ref:this.wrapperRef},e)),r.map(n=>i.createElement("button",{key:n,className:h("arrow",{type:n},t),onClick:l=>this.handleScrollClick(l,n),"aria-label":k(n)},i.createElement(S,{size:a,type:"horizontal",iconType:"navigation"}))))}}V.__docgenInfo={description:"",methods:[],displayName:"OverflowScroller",props:{className:{required:!1,tsType:{name:"string"},description:""},onScrollStart:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onScrollEnd:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},arrowSize:{required:!1,tsType:{name:"number"},description:""},arrowClassName:{required:!1,tsType:{name:"string"},description:""}}};export{V as O};
