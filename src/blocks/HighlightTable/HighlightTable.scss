@import '../../../styles/mixins';
@import '../../../styles/variables';

$block: '.#{$ns}highlight-table-block';

#{$block} {
    $class: &;

    &__title {
        margin-bottom: 24px;
    }

    &__legend {
        display: flex;
        column-gap: 28px;
        align-items: center;
        justify-content: center;
        padding: 0 $indentS;
        border: 1px solid transparent;

        &_left {
            justify-content: flex-start;
        }

        &_right {
            justify-content: flex-end;
        }

        &_position-top {
            margin-bottom: $indentXXS;
        }

        &_position-bottom {
            margin-top: $indentXXS;
        }
    }

    &__legend-item {
        display: flex;
        align-items: center;

        img {
            display: inline-block;
            vertical-align: middle;
        }
    }

    &__table {
        overflow: auto;

        @media (max-width: map-get($gridBreakpoints, 'md')) {
            margin-right: -$indentL;
            margin-left: -$indentL;
            padding: 0 $indentL $indentXXS;
            scrollbar-width: none;

            &::-webkit-scrollbar {
                display: none;
            }
        }

        @media (max-width: map-get($gridBreakpoints, 'sm')) {
            margin-right: -$indentSM;
            margin-left: -$indentSM;
            padding: 0 $indentSM $indentXXS;
        }
    }

    &__content {
        display: inline-block;
    }

    &__head {
        color: rgba(0, 0, 0, 0.5);
    }

    &__body {
        border: 1px solid var(--g-color-private-black-100);
    }

    &__head,
    &__body {
        border-radius: 10px;
        overflow: hidden;
    }

    &__row {
        display: flex;
        padding: $indentXXS;
        transition: padding 0.8s ease 0.5s, background-color 0.5s ease;
        background-color: var(--ps-ht-color);

        & + & {
            border-top: 1px solid var(--g-color-private-black-100);
        }

        #{$block}__body &:hover {
            transition: padding 0.8s ease, background-color 0.5s ease;
            background-color: var(--ps-ht-hover-color, var(--ps-ht-color));

            & #{$block}__button {
                opacity: 1;
                margin-top: $indent4XS;
                max-height: 100px;
                transition: margin-top 0.5s ease, max-height 0.5s ease, opacity 0.3s ease 0.5s;
            }
        }

        #{$block}__body &_increase:hover {
            padding-top: $indentS;
            padding-bottom: $indentS;
        }
    }

    &__cell {
        display: flex;
        flex-direction: column;
        padding-right: $indentXXXS;
        padding-left: $indentXXXS;

        p {
            margin: 0;
        }

        img {
            display: inline-block;
            vertical-align: middle;
        }
    }

    &__scrollbar {
        visibility: hidden;
        overflow: hidden;
        height: 5px;
        width: 100%;
        margin-top: -5px;
        border-radius: 2px;
        background-color: var(--g-color-private-black-150);
        display: none;

        @media (max-width: map-get($gridBreakpoints, 'md')) {
            visibility: visible;

            & > div {
                height: 100%;

                border-radius: 2px;
                background-color: var(--g-color-private-black-400);

                transition: transform ease 50ms;
            }
        }
    }

    &__button {
        margin-top: 0;
        opacity: 0;
        max-height: 0;
        overflow: hidden;
        display: block;
        transition: margin-top 0.5s ease 0.3s, max-height 0.5s ease 0.3s, opacity 0.3s ease;
    }
}
