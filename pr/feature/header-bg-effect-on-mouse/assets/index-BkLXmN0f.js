import{r as u,R as w,b as x,E as F,c as N,d as D}from"./iframe-B-QW4erR.js";import{u as L}from"./useMount-CQMDkvHT.js";import{u as S}from"./useAnalytics-BM31rD20.js";function B(e){return typeof e=="object"&&e!==null&&"type"in e&&e.type==="hsFormCallback"}function M(e,a){return({data:t})=>{var n,s,o,m,c;if(B(t)&&t.id===a)switch(t.eventName){case"onBeforeFormInit":{(n=e.onBeforeLoad)==null||n.call(e,t);break}case"onFormReady":{(s=e.onLoad)==null||s.call(e,t);break}case"onFormSubmit":{(o=e.onBeforeSubmit)==null||o.call(e,t);break}case"onFormSubmitted":{(m=e.onSubmit)==null||m.call(e,t);break}case"onFormError":{(c=e.onSubmitError)==null||c.call(e,t);break}}}}function R(e,a){u.useEffect(()=>{const t=M(e,a);return window.addEventListener("message",t,{passive:!0}),()=>{window.removeEventListener("message",t)}},[e,a])}let f;const j=async()=>f||(f=new Promise((e,a)=>{const t=document.createElement("script");t.src="//js-eu1.hsforms.net/forms/v2.js",t.onload=n=>{e(n)},t.onerror=n=>{var s;(s=t==null?void 0:t.parentNode)==null||s.removeChild(t),a(n)},document.head.appendChild(t)}),f),g=u.forwardRef((e,a)=>{const{className:t,formId:n,formInstanceId:s,portalId:o,region:m,formClassName:c,createDOMElement:p}=e,r=u.useRef(null),i=u.useRef();u.useImperativeHandle(a,()=>r.current);const l=s?`hubspot-form-${n}-${s}`:`hubspot-form-${n}`,d=()=>{r.current&&!i.current&&p&&(i.current=document.createElement("div"),r.current.id="",i.current.id=l,r.current.appendChild(i.current)),(!p||i.current)&&window.hbspt&&window.hbspt.forms.create({region:m,portalId:o,formId:n,target:`#${l}`,cssClass:c,formInstanceId:s})};return L(()=>((async()=>(window.hbspt||await j(),d()))(),()=>{p&&r.current&&r.current.lastChild&&r.current.removeChild(r.current.lastChild)})),w.createElement("div",{className:t,id:l,ref:r})});g.displayName="HubspotFormContainer";g.__docgenInfo={description:"",methods:[],displayName:"HubspotFormContainer"};const P=x("hubspot-form"),k=u.forwardRef((e,a)=>{const{className:t,theme:n,isMobile:s,formId:o,formInstanceId:m,portalId:c,region:p,formClassName:r,analyticsEvents:i,onBeforeSubmit:l,onSubmit:d,onBeforeLoad:y,onLoad:v,createDOMElement:q,onSubmitError:b}=e,H=F(),E=S(N.HubspotFormSubmit),T=u.useContext(D),h=n??H,C=s??T,I=u.useMemo(()=>({onBeforeLoad:y,onBeforeSubmit:l,onLoad:v,onSubmitError:b,onSubmit:A=>{E(i),d==null||d(A)}}),[y,l,v,E,i,d,b]);return R(I,o),w.createElement(g,{createDOMElement:q,key:[r,o,m,c,p].join(),className:P({theme:h,mobile:C},t),formClassName:r,formId:o,portalId:c,formInstanceId:m,region:p,ref:a})});k.displayName="HubspotForm";k.__docgenInfo={description:"",methods:[],displayName:"HubspotForm",props:{onBeforeLoad:{required:!1,tsType:{name:"signature",type:"function",raw:"(arg: HubspotEventData) => void",signature:{arguments:[{type:{name:"HubspotEventData"},name:"arg"}],return:{name:"void"}}},description:"To use this handler for component that is rendered in iframe, set up useLoopBackHubspotEvents hook on top level frame"},onBeforeSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(arg: HubspotEventData) => void",signature:{arguments:[{type:{name:"HubspotEventData"},name:"arg"}],return:{name:"void"}}},description:"To use this handler for component that is rendered in iframe, set up useLoopBackHubspotEvents hook on top level frame"},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(arg: HubspotEventData) => void",signature:{arguments:[{type:{name:"HubspotEventData"},name:"arg"}],return:{name:"void"}}},description:"To use this handler for component that is rendered in iframe, set up useLoopBackHubspotEvents hook on top level frame"},onLoad:{required:!1,tsType:{name:"signature",type:"function",raw:"(arg: HubspotEventData) => void",signature:{arguments:[{type:{name:"HubspotEventData"},name:"arg"}],return:{name:"void"}}},description:"To use this handler for component that is rendered in iframe, set up useLoopBackHubspotEvents hook on top level frame"},onSubmitError:{required:!1,tsType:{name:"signature",type:"function",raw:"(arg: HubspotEventData) => void",signature:{arguments:[{type:{name:"HubspotEventData"},name:"arg"}],return:{name:"void"}}},description:""},analyticsEvents:{required:!1,tsType:{name:"union",raw:"AnalyticsEvent | AnalyticsEvent[]",elements:[{name:"intersection",raw:`T & {
    name: string;
    type?: string;
    counters?: AnalyticsCounters;
    context?: string;
    target?: string;
}`,elements:[{name:"T"},{name:"signature",type:"object",raw:`{
    name: string;
    type?: string;
    counters?: AnalyticsCounters;
    context?: string;
    target?: string;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"type",value:{name:"string",required:!1}},{key:"counters",value:{name:"signature",type:"object",raw:`{
    include?: string[];
    exclude?: string[];
}`,signature:{properties:[{key:"include",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"exclude",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}}]},required:!1}},{key:"context",value:{name:"string",required:!1}},{key:"target",value:{name:"string",required:!1}}]}}]},{name:"Array",elements:[{name:"intersection",raw:`T & {
    name: string;
    type?: string;
    counters?: AnalyticsCounters;
    context?: string;
    target?: string;
}`,elements:[{name:"T"},{name:"signature",type:"object",raw:`{
    name: string;
    type?: string;
    counters?: AnalyticsCounters;
    context?: string;
    target?: string;
}`,signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"type",value:{name:"string",required:!1}},{key:"counters",value:{name:"signature",type:"object",raw:`{
    include?: string[];
    exclude?: string[];
}`,signature:{properties:[{key:"include",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"exclude",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}}]},required:!1}},{key:"context",value:{name:"string",required:!1}},{key:"target",value:{name:"string",required:!1}}]}}]}],raw:"AnalyticsEvent[]"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""},theme:{required:!1,tsType:{name:"union",raw:"'default' | 'dark' | 'light'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'dark'"},{name:"literal",value:"'light'"}]},description:""},isMobile:{required:!1,tsType:{name:"boolean"},description:""},region:{required:!1,tsType:{name:"string"},description:""},portalId:{required:!0,tsType:{name:"string"},description:""},formId:{required:!0,tsType:{name:"string"},description:""},formInstanceId:{required:!1,tsType:{name:"string"},description:""},formClassName:{required:!1,tsType:{name:"string"},description:""},hubspotEvents:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},createDOMElement:{required:!1,tsType:{name:"boolean"},description:""}}};export{k as H};
