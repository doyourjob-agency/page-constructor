import{R as c,a5 as Qt,g as At,a4 as Jt,r as R,Q as er,z as fe,N as tr,b as Mt,O as tt,L as Nt,m as rr,d as kt,aw as nr,a3 as or,K as ft}from"./iframe-rOpawicF.js";import{t as ar}from"./toInteger-BPWUCeFw.js";import{t as ir,a as sr,d as $t}from"./debounce-5GQ2_d4d.js";import{t as lr}from"./toString-hvZqj2EG.js";import{a as Dt}from"./addComponentKeysets-BCg10HZ2.js";import{X as It}from"./Xmark-B--lvgqG.js";import{B as Ue,w as cr}from"./Button-B_WhZ6P4.js";import{I as rt}from"./Icon-BiTW8ZUh.js";import{L as ur}from"./Link-Byu3qJP7.js";import{u as fr}from"./useActionHandlers-BnfJz6VP.js";import{b as dr,a as pr,c as Lt,d as mr,u as vr,C as hr,g as gr,P as yr,F as br}from"./transition-CPaMrT1_.js";import{i as wr}from"./index-AsvfDkw-.js";import{u as Ze}from"./useUniqId-WYKZwsKq.js";import{E as Er}from"./ErrorWrapper-D_T9BozW.js";function Bt(){return dr().direction}function xr(t,e,r){const[n,o]=c.useState(t??e),a=c.useRef(t!==void 0),l=t!==void 0;c.useEffect(()=>{const f=a.current;f!==l&&console.error(`[useControlledState] A component changed from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}.`),a.current=l},[l]);let i=l?t:n;const s=c.useCallback((f,...u)=>{Object.is(i,f)||r==null||r(f,...u),l||(i=f,o(f))},[l,r,i]);return[i,s]}function Or({initialValue:t,onReset:e}){const[r,n]=c.useState(null),o=c.useRef(t);return c.useEffect(()=>{if(!r)return;const l=()=>{e(o.current)};return r.addEventListener("reset",l),()=>{r.removeEventListener("reset",l)}},[r,e]),c.useCallback(l=>{var i;n((i=l==null?void 0:l.form)!==null&&i!==void 0?i:null)},[])}var Cr=Qt,Rr=ar,Pr=ir,dt=lr,Sr=Cr.isFinite,Tr=Math.min;function Ar(t){var e=Math[t];return function(r,n){if(r=Pr(r),n=n==null?0:Tr(Rr(n),292),n&&Sr(r)){var o=(dt(r)+"e").split("e"),a=e(o[0]+"e"+(+o[1]+n));return o=(dt(a)+"e").split("e"),+(o[0]+"e"+(+o[1]-n))}return e(r)}}var Mr=Ar,Nr=Mr,kr=Nr("round"),$r=kr;const We=At($r);var Dr=sr,Ir=Jt,Lr="Expected a function";function Br(t,e,r){var n=!0,o=!0;if(typeof t!="function")throw new TypeError(Lr);return Ir(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),Dr(t,e,{leading:n,maxWait:e,trailing:o})}var jr=Br;const Fr=At(jr),zr=16,_e=2;function pt(t,e){const[r,n]=c.useState({width:0,height:0});return c.useLayoutEffect(()=>{if(!(t!=null&&t.current))return;const o=l=>{if(!Array.isArray(l))return;const i=l[0];if(i.borderBoxSize){const s=i.borderBoxSize[0]?i.borderBoxSize[0]:i.borderBoxSize;n({width:We(s.inlineSize,_e),height:We(s.blockSize,_e)})}else{const s=i.target;n({width:We(s.offsetWidth,_e),height:We(s.offsetHeight,_e)})}},a=new ResizeObserver(Fr(o,zr));return a.observe(t.current),()=>{a.disconnect()}},[t,e]),r}var mt=function(e){return e.reduce(function(r,n){var o=n[0],a=n[1];return r[o]=a,r},{})},vt=typeof window<"u"&&window.document&&window.document.createElement?R.useLayoutEffect:R.useEffect,q="top",J="bottom",ee="right",V="left",nt="auto",Be=[q,J,ee,V],Pe="start",Ie="end",Wr="clippingParents",jt="viewport",Ne="popper",_r="reference",ht=Be.reduce(function(t,e){return t.concat([e+"-"+Pe,e+"-"+Ie])},[]),Ft=[].concat(Be,[nt]).reduce(function(t,e){return t.concat([e,e+"-"+Pe,e+"-"+Ie])},[]),qr="beforeRead",Vr="read",Hr="afterRead",Ur="beforeMain",Kr="main",Yr="afterMain",Xr="beforeWrite",Zr="write",Gr="afterWrite",Qr=[qr,Vr,Hr,Ur,Kr,Yr,Xr,Zr,Gr];function se(t){return t?(t.nodeName||"").toLowerCase():null}function K(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function be(t){var e=K(t).Element;return t instanceof e||t instanceof Element}function Q(t){var e=K(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ot(t){if(typeof ShadowRoot>"u")return!1;var e=K(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Jr(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},o=e.attributes[r]||{},a=e.elements[r];!Q(a)||!se(a)||(Object.assign(a.style,n),Object.keys(o).forEach(function(l){var i=o[l];i===!1?a.removeAttribute(l):a.setAttribute(l,i===!0?"":i)}))})}function en(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],a=e.attributes[n]||{},l=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),i=l.reduce(function(s,f){return s[f]="",s},{});!Q(o)||!se(o)||(Object.assign(o.style,i),Object.keys(a).forEach(function(s){o.removeAttribute(s)}))})}}const tn={name:"applyStyles",enabled:!0,phase:"write",fn:Jr,effect:en,requires:["computeStyles"]};function ie(t){return t.split("-")[0]}var ye=Math.max,Ke=Math.min,Se=Math.round;function Je(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function zt(){return!/^((?!chrome|android).)*safari/i.test(Je())}function Te(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),o=1,a=1;e&&Q(t)&&(o=t.offsetWidth>0&&Se(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Se(n.height)/t.offsetHeight||1);var l=be(t)?K(t):window,i=l.visualViewport,s=!zt()&&r,f=(n.left+(s&&i?i.offsetLeft:0))/o,u=(n.top+(s&&i?i.offsetTop:0))/a,m=n.width/o,p=n.height/a;return{width:m,height:p,top:u,right:f+m,bottom:u+p,left:f,x:f,y:u}}function at(t){var e=Te(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function Wt(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&ot(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ue(t){return K(t).getComputedStyle(t)}function rn(t){return["table","td","th"].indexOf(se(t))>=0}function pe(t){return((be(t)?t.ownerDocument:t.document)||window.document).documentElement}function Xe(t){return se(t)==="html"?t:t.assignedSlot||t.parentNode||(ot(t)?t.host:null)||pe(t)}function gt(t){return!Q(t)||ue(t).position==="fixed"?null:t.offsetParent}function nn(t){var e=/firefox/i.test(Je()),r=/Trident/i.test(Je());if(r&&Q(t)){var n=ue(t);if(n.position==="fixed")return null}var o=Xe(t);for(ot(o)&&(o=o.host);Q(o)&&["html","body"].indexOf(se(o))<0;){var a=ue(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function je(t){for(var e=K(t),r=gt(t);r&&rn(r)&&ue(r).position==="static";)r=gt(r);return r&&(se(r)==="html"||se(r)==="body"&&ue(r).position==="static")?e:r||nn(t)||e}function it(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function $e(t,e,r){return ye(t,Ke(e,r))}function on(t,e,r){var n=$e(t,e,r);return n>r?r:n}function _t(){return{top:0,right:0,bottom:0,left:0}}function qt(t){return Object.assign({},_t(),t)}function Vt(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var an=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,qt(typeof e!="number"?e:Vt(e,Be))};function sn(t){var e,r=t.state,n=t.name,o=t.options,a=r.elements.arrow,l=r.modifiersData.popperOffsets,i=ie(r.placement),s=it(i),f=[V,ee].indexOf(i)>=0,u=f?"height":"width";if(!(!a||!l)){var m=an(o.padding,r),p=at(a),d=s==="y"?q:V,g=s==="y"?J:ee,h=r.rects.reference[u]+r.rects.reference[s]-l[s]-r.rects.popper[u],v=l[s]-r.rects.reference[s],b=je(a),x=b?s==="y"?b.clientHeight||0:b.clientWidth||0:0,C=h/2-v/2,y=m[d],E=x-p[u]-m[g],w=x/2-p[u]/2+C,O=$e(y,w,E),A=s;r.modifiersData[n]=(e={},e[A]=O,e.centerOffset=O-w,e)}}function ln(t){var e=t.state,r=t.options,n=r.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||Wt(e.elements.popper,o)&&(e.elements.arrow=o))}const cn={name:"arrow",enabled:!0,phase:"main",fn:sn,effect:ln,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ae(t){return t.split("-")[1]}var un={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fn(t,e){var r=t.x,n=t.y,o=e.devicePixelRatio||1;return{x:Se(r*o)/o||0,y:Se(n*o)/o||0}}function yt(t){var e,r=t.popper,n=t.popperRect,o=t.placement,a=t.variation,l=t.offsets,i=t.position,s=t.gpuAcceleration,f=t.adaptive,u=t.roundOffsets,m=t.isFixed,p=l.x,d=p===void 0?0:p,g=l.y,h=g===void 0?0:g,v=typeof u=="function"?u({x:d,y:h}):{x:d,y:h};d=v.x,h=v.y;var b=l.hasOwnProperty("x"),x=l.hasOwnProperty("y"),C=V,y=q,E=window;if(f){var w=je(r),O="clientHeight",A="clientWidth";if(w===K(r)&&(w=pe(r),ue(w).position!=="static"&&i==="absolute"&&(O="scrollHeight",A="scrollWidth")),w=w,o===q||(o===V||o===ee)&&a===Ie){y=J;var S=m&&w===E&&E.visualViewport?E.visualViewport.height:w[O];h-=S-n.height,h*=s?1:-1}if(o===V||(o===q||o===J)&&a===Ie){C=ee;var P=m&&w===E&&E.visualViewport?E.visualViewport.width:w[A];d-=P-n.width,d*=s?1:-1}}var M=Object.assign({position:i},f&&un),D=u===!0?fn({x:d,y:h},K(r)):{x:d,y:h};if(d=D.x,h=D.y,s){var T;return Object.assign({},M,(T={},T[y]=x?"0":"",T[C]=b?"0":"",T.transform=(E.devicePixelRatio||1)<=1?"translate("+d+"px, "+h+"px)":"translate3d("+d+"px, "+h+"px, 0)",T))}return Object.assign({},M,(e={},e[y]=x?h+"px":"",e[C]=b?d+"px":"",e.transform="",e))}function dn(t){var e=t.state,r=t.options,n=r.gpuAcceleration,o=n===void 0?!0:n,a=r.adaptive,l=a===void 0?!0:a,i=r.roundOffsets,s=i===void 0?!0:i,f={placement:ie(e.placement),variation:Ae(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yt(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:s})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yt(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const pn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:dn,data:{}};var qe={passive:!0};function mn(t){var e=t.state,r=t.instance,n=t.options,o=n.scroll,a=o===void 0?!0:o,l=n.resize,i=l===void 0?!0:l,s=K(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(u){u.addEventListener("scroll",r.update,qe)}),i&&s.addEventListener("resize",r.update,qe),function(){a&&f.forEach(function(u){u.removeEventListener("scroll",r.update,qe)}),i&&s.removeEventListener("resize",r.update,qe)}}const vn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mn,data:{}};var hn={left:"right",right:"left",bottom:"top",top:"bottom"};function He(t){return t.replace(/left|right|bottom|top/g,function(e){return hn[e]})}var gn={start:"end",end:"start"};function bt(t){return t.replace(/start|end/g,function(e){return gn[e]})}function st(t){var e=K(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function lt(t){return Te(pe(t)).left+st(t).scrollLeft}function yn(t,e){var r=K(t),n=pe(t),o=r.visualViewport,a=n.clientWidth,l=n.clientHeight,i=0,s=0;if(o){a=o.width,l=o.height;var f=zt();(f||!f&&e==="fixed")&&(i=o.offsetLeft,s=o.offsetTop)}return{width:a,height:l,x:i+lt(t),y:s}}function bn(t){var e,r=pe(t),n=st(t),o=(e=t.ownerDocument)==null?void 0:e.body,a=ye(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),l=ye(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),i=-n.scrollLeft+lt(t),s=-n.scrollTop;return ue(o||r).direction==="rtl"&&(i+=ye(r.clientWidth,o?o.clientWidth:0)-a),{width:a,height:l,x:i,y:s}}function ct(t){var e=ue(t),r=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function Ht(t){return["html","body","#document"].indexOf(se(t))>=0?t.ownerDocument.body:Q(t)&&ct(t)?t:Ht(Xe(t))}function De(t,e){var r;e===void 0&&(e=[]);var n=Ht(t),o=n===((r=t.ownerDocument)==null?void 0:r.body),a=K(n),l=o?[a].concat(a.visualViewport||[],ct(n)?n:[]):n,i=e.concat(l);return o?i:i.concat(De(Xe(l)))}function et(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function wn(t,e){var r=Te(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function wt(t,e,r){return e===jt?et(yn(t,r)):be(e)?wn(e,r):et(bn(pe(t)))}function En(t){var e=De(Xe(t)),r=["absolute","fixed"].indexOf(ue(t).position)>=0,n=r&&Q(t)?je(t):t;return be(n)?e.filter(function(o){return be(o)&&Wt(o,n)&&se(o)!=="body"}):[]}function xn(t,e,r,n){var o=e==="clippingParents"?En(t):[].concat(e),a=[].concat(o,[r]),l=a[0],i=a.reduce(function(s,f){var u=wt(t,f,n);return s.top=ye(u.top,s.top),s.right=Ke(u.right,s.right),s.bottom=Ke(u.bottom,s.bottom),s.left=ye(u.left,s.left),s},wt(t,l,n));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Ut(t){var e=t.reference,r=t.element,n=t.placement,o=n?ie(n):null,a=n?Ae(n):null,l=e.x+e.width/2-r.width/2,i=e.y+e.height/2-r.height/2,s;switch(o){case q:s={x:l,y:e.y-r.height};break;case J:s={x:l,y:e.y+e.height};break;case ee:s={x:e.x+e.width,y:i};break;case V:s={x:e.x-r.width,y:i};break;default:s={x:e.x,y:e.y}}var f=o?it(o):null;if(f!=null){var u=f==="y"?"height":"width";switch(a){case Pe:s[f]=s[f]-(e[u]/2-r[u]/2);break;case Ie:s[f]=s[f]+(e[u]/2-r[u]/2);break}}return s}function Le(t,e){e===void 0&&(e={});var r=e,n=r.placement,o=n===void 0?t.placement:n,a=r.strategy,l=a===void 0?t.strategy:a,i=r.boundary,s=i===void 0?Wr:i,f=r.rootBoundary,u=f===void 0?jt:f,m=r.elementContext,p=m===void 0?Ne:m,d=r.altBoundary,g=d===void 0?!1:d,h=r.padding,v=h===void 0?0:h,b=qt(typeof v!="number"?v:Vt(v,Be)),x=p===Ne?_r:Ne,C=t.rects.popper,y=t.elements[g?x:p],E=xn(be(y)?y:y.contextElement||pe(t.elements.popper),s,u,l),w=Te(t.elements.reference),O=Ut({reference:w,element:C,strategy:"absolute",placement:o}),A=et(Object.assign({},C,O)),S=p===Ne?A:w,P={top:E.top-S.top+b.top,bottom:S.bottom-E.bottom+b.bottom,left:E.left-S.left+b.left,right:S.right-E.right+b.right},M=t.modifiersData.offset;if(p===Ne&&M){var D=M[o];Object.keys(P).forEach(function(T){var I=[ee,J].indexOf(T)>=0?1:-1,L=[q,J].indexOf(T)>=0?"y":"x";P[T]+=D[L]*I})}return P}function On(t,e){e===void 0&&(e={});var r=e,n=r.placement,o=r.boundary,a=r.rootBoundary,l=r.padding,i=r.flipVariations,s=r.allowedAutoPlacements,f=s===void 0?Ft:s,u=Ae(n),m=u?i?ht:ht.filter(function(g){return Ae(g)===u}):Be,p=m.filter(function(g){return f.indexOf(g)>=0});p.length===0&&(p=m);var d=p.reduce(function(g,h){return g[h]=Le(t,{placement:h,boundary:o,rootBoundary:a,padding:l})[ie(h)],g},{});return Object.keys(d).sort(function(g,h){return d[g]-d[h]})}function Cn(t){if(ie(t)===nt)return[];var e=He(t);return[bt(t),e,bt(e)]}function Rn(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var o=r.mainAxis,a=o===void 0?!0:o,l=r.altAxis,i=l===void 0?!0:l,s=r.fallbackPlacements,f=r.padding,u=r.boundary,m=r.rootBoundary,p=r.altBoundary,d=r.flipVariations,g=d===void 0?!0:d,h=r.allowedAutoPlacements,v=e.options.placement,b=ie(v),x=b===v,C=s||(x||!g?[He(v)]:Cn(v)),y=[v].concat(C).reduce(function(F,k){return F.concat(ie(k)===nt?On(e,{placement:k,boundary:u,rootBoundary:m,padding:f,flipVariations:g,allowedAutoPlacements:h}):k)},[]),E=e.rects.reference,w=e.rects.popper,O=new Map,A=!0,S=y[0],P=0;P<y.length;P++){var M=y[P],D=ie(M),T=Ae(M)===Pe,I=[q,J].indexOf(D)>=0,L=I?"width":"height",N=Le(e,{placement:M,boundary:u,rootBoundary:m,altBoundary:p,padding:f}),$=I?T?ee:V:T?J:q;E[L]>w[L]&&($=He($));var Y=He($),B=[];if(a&&B.push(N[D]<=0),i&&B.push(N[$]<=0,N[Y]<=0),B.every(function(F){return F})){S=M,A=!1;break}O.set(M,B)}if(A)for(var re=g?3:1,le=function(k){var W=y.find(function(X){var z=O.get(X);if(z)return z.slice(0,k).every(function(_){return _})});if(W)return S=W,"break"},j=re;j>0;j--){var H=le(j);if(H==="break")break}e.placement!==S&&(e.modifiersData[n]._skip=!0,e.placement=S,e.reset=!0)}}const Pn={name:"flip",enabled:!0,phase:"main",fn:Rn,requiresIfExists:["offset"],data:{_skip:!1}};function Et(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function xt(t){return[q,ee,J,V].some(function(e){return t[e]>=0})}function Sn(t){var e=t.state,r=t.name,n=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,l=Le(e,{elementContext:"reference"}),i=Le(e,{altBoundary:!0}),s=Et(l,n),f=Et(i,o,a),u=xt(s),m=xt(f);e.modifiersData[r]={referenceClippingOffsets:s,popperEscapeOffsets:f,isReferenceHidden:u,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":m})}const Tn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Sn};function An(t,e,r){var n=ie(t),o=[V,q].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,l=a[0],i=a[1];return l=l||0,i=(i||0)*o,[V,ee].indexOf(n)>=0?{x:i,y:l}:{x:l,y:i}}function Mn(t){var e=t.state,r=t.options,n=t.name,o=r.offset,a=o===void 0?[0,0]:o,l=Ft.reduce(function(u,m){return u[m]=An(m,e.rects,a),u},{}),i=l[e.placement],s=i.x,f=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=s,e.modifiersData.popperOffsets.y+=f),e.modifiersData[n]=l}const Nn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mn};function kn(t){var e=t.state,r=t.name;e.modifiersData[r]=Ut({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const $n={name:"popperOffsets",enabled:!0,phase:"read",fn:kn,data:{}};function Dn(t){return t==="x"?"y":"x"}function In(t){var e=t.state,r=t.options,n=t.name,o=r.mainAxis,a=o===void 0?!0:o,l=r.altAxis,i=l===void 0?!1:l,s=r.boundary,f=r.rootBoundary,u=r.altBoundary,m=r.padding,p=r.tether,d=p===void 0?!0:p,g=r.tetherOffset,h=g===void 0?0:g,v=Le(e,{boundary:s,rootBoundary:f,padding:m,altBoundary:u}),b=ie(e.placement),x=Ae(e.placement),C=!x,y=it(b),E=Dn(y),w=e.modifiersData.popperOffsets,O=e.rects.reference,A=e.rects.popper,S=typeof h=="function"?h(Object.assign({},e.rects,{placement:e.placement})):h,P=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(w){if(a){var T,I=y==="y"?q:V,L=y==="y"?J:ee,N=y==="y"?"height":"width",$=w[y],Y=$+v[I],B=$-v[L],re=d?-A[N]/2:0,le=x===Pe?O[N]:A[N],j=x===Pe?-A[N]:-O[N],H=e.elements.arrow,F=d&&H?at(H):{width:0,height:0},k=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:_t(),W=k[I],X=k[L],z=$e(0,O[N],F[N]),_=C?O[N]/2-re-z-W-P.mainAxis:le-z-W-P.mainAxis,ne=C?-O[N]/2+re+z+X+P.mainAxis:j+z+X+P.mainAxis,me=e.elements.arrow&&je(e.elements.arrow),ce=me?y==="y"?me.clientTop||0:me.clientLeft||0:0,ve=(T=M==null?void 0:M[y])!=null?T:0,we=$+_-ve-ce,Ee=$+ne-ve,he=$e(d?Ke(Y,we):Y,$,d?ye(B,Ee):B);w[y]=he,D[y]=he-$}if(i){var ge,xe=y==="x"?q:V,Oe=y==="x"?J:ee,Z=w[E],de=E==="y"?"height":"width",Me=Z+v[xe],te=Z-v[Oe],G=[q,V].indexOf(b)!==-1,oe=(ge=M==null?void 0:M[E])!=null?ge:0,Fe=G?Me:Z-O[de]-A[de]-oe+P.altAxis,ze=G?Z+O[de]+A[de]-oe-P.altAxis:te,ut=d&&G?on(Fe,Z,ze):$e(d?Fe:Me,Z,d?ze:te);w[E]=ut,D[E]=ut-Z}e.modifiersData[n]=D}}const Ln={name:"preventOverflow",enabled:!0,phase:"main",fn:In,requiresIfExists:["offset"]};function Bn(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function jn(t){return t===K(t)||!Q(t)?st(t):Bn(t)}function Fn(t){var e=t.getBoundingClientRect(),r=Se(e.width)/t.offsetWidth||1,n=Se(e.height)/t.offsetHeight||1;return r!==1||n!==1}function zn(t,e,r){r===void 0&&(r=!1);var n=Q(e),o=Q(e)&&Fn(e),a=pe(e),l=Te(t,o,r),i={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(n||!n&&!r)&&((se(e)!=="body"||ct(a))&&(i=jn(e)),Q(e)?(s=Te(e,!0),s.x+=e.clientLeft,s.y+=e.clientTop):a&&(s.x=lt(a))),{x:l.left+i.scrollLeft-s.x,y:l.top+i.scrollTop-s.y,width:l.width,height:l.height}}function Wn(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function o(a){r.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(i){if(!r.has(i)){var s=e.get(i);s&&o(s)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||o(a)}),n}function _n(t){var e=Wn(t);return Qr.reduce(function(r,n){return r.concat(e.filter(function(o){return o.phase===n}))},[])}function qn(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Vn(t){var e=t.reduce(function(r,n){var o=r[n.name];return r[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function Ct(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Hn(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,o=e.defaultOptions,a=o===void 0?Ot:o;return function(i,s,f){f===void 0&&(f=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,a),modifiersData:{},elements:{reference:i,popper:s},attributes:{},styles:{}},m=[],p=!1,d={state:u,setOptions:function(b){var x=typeof b=="function"?b(u.options):b;h(),u.options=Object.assign({},a,u.options,x),u.scrollParents={reference:be(i)?De(i):i.contextElement?De(i.contextElement):[],popper:De(s)};var C=_n(Vn([].concat(n,u.options.modifiers)));return u.orderedModifiers=C.filter(function(y){return y.enabled}),g(),d.update()},forceUpdate:function(){if(!p){var b=u.elements,x=b.reference,C=b.popper;if(Ct(x,C)){u.rects={reference:zn(x,je(C),u.options.strategy==="fixed"),popper:at(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(P){return u.modifiersData[P.name]=Object.assign({},P.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var E=u.orderedModifiers[y],w=E.fn,O=E.options,A=O===void 0?{}:O,S=E.name;typeof w=="function"&&(u=w({state:u,options:A,name:S,instance:d})||u)}}}},update:qn(function(){return new Promise(function(v){d.forceUpdate(),v(u)})}),destroy:function(){h(),p=!0}};if(!Ct(i,s))return d;d.setOptions(f).then(function(v){!p&&f.onFirstUpdate&&f.onFirstUpdate(v)});function g(){u.orderedModifiers.forEach(function(v){var b=v.name,x=v.options,C=x===void 0?{}:x,y=v.effect;if(typeof y=="function"){var E=y({state:u,name:b,instance:d,options:C}),w=function(){};m.push(E||w)}})}function h(){m.forEach(function(v){return v()}),m=[]}return d}}var Un=[vn,$n,pn,tn,Nn,Pn,Ln,cn,Tn],Kn=Hn({defaultModifiers:Un}),Yn=[],Xn=function(e,r,n){n===void 0&&(n={});var o=R.useRef(null),a={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Yn},l=R.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=l[0],s=l[1],f=R.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(d){var g=d.state,h=Object.keys(g.elements);er.flushSync(function(){s({styles:mt(h.map(function(v){return[v,g.styles[v]||{}]})),attributes:mt(h.map(function(v){return[v,g.attributes[v]]}))})})},requires:["computeStyles"]}},[]),u=R.useMemo(function(){var p={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[f,{name:"applyStyles",enabled:!1}])};return wr(o.current,p)?o.current||p:(o.current=p,p)},[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,f]),m=R.useRef();return vt(function(){m.current&&m.current.setOptions(u)},[u]),vt(function(){if(!(e==null||r==null)){var p=n.createPopper||Kn,d=p(e,r,u);return m.current=d,function(){d.destroy(),m.current=null}}},[e,r,n.createPopper]),{state:m.current?m.current.state:null,styles:i.styles,attributes:i.attributes,update:m.current?m.current.update:null,forceUpdate:m.current?m.current.forceUpdate:null}};const Zn=["bottom-start","bottom","bottom-end","top-start","top","top-end","right-start","right","right-end","left-start","left","left-end"],Gn={name:"rtlOffsetFix",enabled:!0,phase:"main",requires:["offset"],fn({state:t}){var e;if(!t.placement.startsWith("top")&&!t.placement.startsWith("bottom"))return;const r=(e=t.modifiersData.offset)===null||e===void 0?void 0:e[t.placement];r&&(t.modifiersData.popperOffsets.x-=r.x*2)}};function Qn({anchorRef:t,placement:e=Zn,offset:r,modifiers:n=[],strategy:o,altBoundary:a}){const[l,i]=c.useState(null),[s,f]=c.useState(null),u=Bt(),m=c.useMemo(()=>{let g=Array.isArray(e)?e:[e];return u==="rtl"&&(g=g.map(h=>h.replace(/(top|bottom)-(start|end)/g,(v,b,x)=>x==="start"?b+"-end":x==="end"?b+"-start":v))),g},[e,u]),{attributes:p,styles:d}=Xn(t==null?void 0:t.current,l,{strategy:o,modifiers:[{name:"arrow",options:{element:s}},{name:"offset",options:{offset:r,altBoundary:a}},{name:"flip",options:{fallbackPlacements:m.slice(1),altBoundary:a}},...u==="rtl"?[Gn]:[],...n],placement:m[0]});return{attributes:p,styles:d,setPopperRef:i,setArrowRef:f}}const Jn=(t,e)=>{const r=c.useRef(!0);c.useEffect(()=>{if(r.current){r.current=!1;return}t()},e)},Ce=fe("popup");function eo({styles:t,attributes:e,setArrowRef:r}){return c.createElement("div",Object.assign({"data-popper-arrow":!0,ref:r,className:Ce("arrow"),style:t},e),c.createElement("div",{className:Ce("arrow-content")},c.createElement("div",{className:Ce("arrow-circle-wrapper")},c.createElement("div",{className:Ce("arrow-circle",{left:!0})})),c.createElement("div",{className:Ce("arrow-circle-wrapper")},c.createElement("div",{className:Ce("arrow-circle",{right:!0})}))))}const Ge=fe("popup"),to=8;function ro({keepMounted:t=!1,hasArrow:e=!1,offset:r=[0,4],open:n,placement:o,anchorRef:a,disableEscapeKeyDown:l,disableOutsideClick:i,disableLayer:s,style:f,className:u,contentClassName:m,modifiers:p=[],children:d,onEscapeKeyDown:g,onOutsideClick:h,onClose:v,onClick:b,onMouseEnter:x,onMouseLeave:C,onFocus:y,onBlur:E,onTransitionEnter:w,onTransitionEntered:O,onTransitionExit:A,onTransitionExited:S,disablePortal:P,container:M,strategy:D,qa:T,restoreFocus:I,restoreFocusRef:L,"aria-label":N,"aria-labelledby":$,role:Y,id:B,focusTrap:re=!1,autoFocus:le=!1}){const j=c.useRef(null);pr({open:n,disableEscapeKeyDown:l,disableOutsideClick:i,onEscapeKeyDown:g,onOutsideClick:h,onClose:v,contentRefs:[a,j],enabled:!s,type:"popup"});const{attributes:H,styles:F,setPopperRef:k,setArrowRef:W}=Qn({anchorRef:a,placement:o,offset:e?[r[0],r[1]+to]:r,strategy:D,altBoundary:P,modifiers:[{name:"arrow",options:{enabled:e,padding:4}},{name:"preventOverflow",options:{padding:1,altBoundary:P}},...p]}),X=Lt(k,j,mr()),z=vr({enabled:!!(I&&n),restoreFocusRef:L});return c.createElement(hr,{nodeRef:j,in:n,addEndListener:_=>{var ne;return(ne=j.current)===null||ne===void 0?void 0:ne.addEventListener("animationend",_)},classNames:gr(Ge),mountOnEnter:!t,unmountOnExit:!t,appear:!0,onEnter:()=>{w==null||w()},onEntered:()=>{O==null||O()},onExit:()=>{A==null||A()},onExited:()=>{S==null||S()}},c.createElement(yr,{container:M,disablePortal:P},c.createElement("div",Object.assign({ref:X,style:F.popper},H.popper,z,{className:Ge({open:n},u),"data-qa":T,id:B,role:Y,"aria-label":N,"aria-labelledby":$}),c.createElement(br,{enabled:re&&n,disableAutoFocus:!le},c.createElement("div",{onClick:b,onMouseEnter:x,onMouseLeave:C,onFocus:y,onBlur:E,className:Ge("content",m),style:f,tabIndex:-1},e&&c.createElement(eo,{styles:F.arrow,attributes:H.arrow,setArrowRef:W}),d)))))}const no=t=>R.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},t),R.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.134 2.994 2.217 11.5a1 1 0 0 0 .866 1.5h9.834a1 1 0 0 0 .866-1.5L8.866 2.993a1 1 0 0 0-1.732 0Zm3.03-.75c-.962-1.665-3.366-1.665-4.328 0L.919 10.749c-.964 1.666.239 3.751 2.164 3.751h9.834c1.925 0 3.128-2.085 2.164-3.751l-4.917-8.505ZM8 5a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2A.75.75 0 0 1 8 5Zm1 5.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"})),oo={"label_clear-button":"Clear"},ao={"label_clear-button":"Очистить"},io=Dt({en:oo,ru:ao},`${tr}clear-button`),so=fe("clear-button"),lo=16,co=t=>{switch(t){case"s":return"xs";case"m":return"s";case"l":return"m";case"xl":return"l";default:throw new Error(`Unknown text input size "${t}"`)}},uo=t=>{const{size:e,className:r,onClick:n}=t,o=a=>{a.preventDefault()};return c.createElement(Ue,{size:e,className:so(null,r),onClick:n,extraProps:{onMouseDown:o,"aria-label":io("label_clear-button")}},c.createElement(rt,{data:It,size:lo}))},fo="control-error-message-qa",po="control-error-icon-qa",mo=t=>typeof t=="boolean"?t?"on":"off":t,vo=t=>t==="invalid"?"error":void 0,ho=t=>{const{error:e,errorMessage:r,errorPlacement:n,validationState:o}=t;let a;typeof e=="string"&&(a=e),r&&(a=r);let l;return(o==="invalid"||e)&&(l="invalid"),{errorMessage:a,errorPlacement:n,validationState:l}},Qe=fe("outer-additional-content"),go=({errorMessage:t,note:e,noteId:r,errorMessageId:n})=>t||e?c.createElement("div",{className:Qe()},t&&c.createElement("div",{className:Qe("error"),id:n,"data-qa":fo},t),e&&c.createElement("div",{className:Qe("note"),id:r},e)):null,U=fe("popover"),Rt=(t,e=!1)=>{switch(t){case"special":return e?"normal-contrast":"flat-contrast";case"announcement":return e?"normal-contrast":"outlined";default:return e?"normal":"flat"}},yo=({theme:t,tooltipActionButton:e,tooltipCancelButton:r})=>!e&&!r?null:c.createElement("div",{className:U("tooltip-buttons")},e&&c.createElement(Ue,{view:Rt(t,!0),width:"max",onClick:e.onClick,className:U("tooltip-button")},e.text),r&&c.createElement(Ue,{view:Rt(t,!1),width:"max",onClick:r.onClick,className:U("tooltip-button")},r.text)),bo=({secondary:t,htmlContent:e,content:r,className:n})=>!e&&!r?null:e?c.createElement("div",{className:U("tooltip-content",{secondary:t},n),dangerouslySetInnerHTML:{__html:e}}):r?c.createElement("div",{className:U("tooltip-content",{secondary:t},n)},r):null,wo=({links:t})=>t.length===0?null:c.createElement("div",{className:U("tooltip-links")},t.map((e,r)=>{const{text:n,href:o,target:a="_blank",onClick:l}=e;return c.createElement(c.Fragment,{key:`link-${r}`},c.createElement(ur,{href:o,target:a,onClick:l,className:U("tooltip-link")},n),c.createElement("br",null))})),Eo=({open:t,openOnHover:e,disabled:r,className:n,openTooltip:o,closeTooltip:a,closedManually:l,onClick:i,children:s})=>{const f=async m=>{if(r||t&&e||!(!i||await i(m)))return;(()=>{!t?(o(),l.current=!1):(a(),l.current=!0)})()},{onKeyDown:u}=fr(f);return typeof s=="function"?c.createElement(c.Fragment,null,s({onClick:f,onKeyDown:u,open:t})):c.createElement("div",{className:n,onClick:f,onKeyDown:i?u:void 0},s)};var Re;(function(t){t.Immediate="immediate",t.Delayed="delayed",t.DelayedClosing="delayedClosing"})(Re||(Re={}));const xo={[Re.Immediate]:[0,0],[Re.Delayed]:[300,300],[Re.DelayedClosing]:[0,300]},Oo=({initialOpen:t,disabled:e,autoclosable:r,onOpenChange:n,delayOpening:o,delayClosing:a,behavior:l,shouldBeOpen:i})=>{const s=c.useRef(null),f=c.useRef(null),[u,m]=c.useState(t),p=c.useCallback(()=>{s.current&&(clearTimeout(s.current),s.current=null)},[]),d=c.useCallback(()=>{f.current&&(clearTimeout(f.current),f.current=null)},[]);c.useEffect(()=>()=>{p(),d()},[d,p]);const g=c.useCallback(E=>{m(E),i.current=E,n==null||n(E)},[n,i]),h=c.useCallback(()=>{p(),g(!0)},[g,p]),v=c.useCallback(()=>{d(),g(!1)},[g,d]);c.useEffect(()=>{e&&v()},[e,v]),Jn(()=>{r&&!i.current&&v()},[r,v,i]);const[b,x]=xo[l],C=c.useCallback(()=>{s.current=setTimeout(()=>{s.current=null,h()},o??b)},[b,o,h]),y=c.useCallback(()=>{f.current=setTimeout(()=>{f.current=null,v()},a??x)},[v,x,a]);return{isOpen:u,closingTimeout:f,openTooltip:h,openTooltipDelayed:C,unsetOpeningTimeout:p,closeTooltip:v,closeTooltipDelayed:y,unsetClosingTimeout:d}},Kt=c.forwardRef(function({initialOpen:t=!1,disabled:e=!1,autoclosable:r=!0,openOnHover:n=!0,delayOpening:o,delayClosing:a,behavior:l=Re.Delayed,placement:i,offset:s={},tooltipOffset:f,tooltipClassName:u,tooltipContentClassName:m,theme:p="info",size:d="s",hasArrow:g=!0,hasClose:h=!1,className:v,children:b,title:x,content:C,htmlContent:y,contentClassName:E,links:w,forceLinksAppearance:O=!1,tooltipActionButton:A,tooltipCancelButton:S,onOpenChange:P,onCloseClick:M,onClick:D,anchorRef:T,strategy:I,qa:L,disablePortal:N=!1,tooltipId:$,focusTrap:Y,autoFocus:B,restoreFocusRef:re,modifiers:le},j){const H=Bt(),F=c.useRef(null),k=c.useRef(!1),W=c.useRef(t),{isOpen:X,closingTimeout:z,openTooltip:_,openTooltipDelayed:ne,unsetOpeningTimeout:me,closeTooltip:ce,closeTooltipDelayed:ve,unsetClosingTimeout:we}=Oo({initialOpen:t,disabled:e,autoclosable:r,onOpenChange:P,delayOpening:o,delayClosing:a,behavior:l,shouldBeOpen:W}),Ee=c.useMemo(()=>i||(H==="rtl"?["left","bottom"]:["right","bottom"]),[H,i]);c.useImperativeHandle(j,()=>({openTooltip:_,closeTooltip:ce}),[_,ce]);const he=async de=>{ce(),M==null||M(de)},ge=!!x,xe=c.createElement(ro,{id:$,role:n?"tooltip":"dialog",strategy:I,anchorRef:T||F,className:U("tooltip",{theme:p,size:d,"with-close":h,"force-links-appearance":O},u),contentClassName:U("tooltip-popup-content",m),open:X,placement:Ee,hasArrow:g,offset:f,onClose:T?void 0:ce,qa:L?`${L}-tooltip`:"",disablePortal:N,focusTrap:Y,autoFocus:B,restoreFocus:!0,restoreFocusRef:re||F,modifiers:le},c.createElement(c.Fragment,null,x&&c.createElement("h3",{className:U("tooltip-title")},x),c.createElement(bo,{secondary:ge?p!=="announcement":!1,content:C,htmlContent:y,className:E}),w&&c.createElement(wo,{links:w}),c.createElement(yo,{theme:p,tooltipActionButton:A,tooltipCancelButton:S}),h&&c.createElement("div",{className:U("tooltip-close")},c.createElement(Ue,{size:"s",view:"flat-secondary",onClick:he,extraProps:{"aria-label":"Close"}},c.createElement(rt,{data:It,size:16})))));if(T)return xe;const Oe=()=>{we(),!X&&!e&&!k.current?ne():W.current=!0},Z=()=>{r&&!k.current&&!z.current?(me(),ve()):W.current=!1,k.current=!1};return s&&(typeof s.top=="number"||typeof s.left=="number")&&cr('[Popover] Physical names (top, left) of "offset" property are deprecated. Use logical names (block, inline) instead.'),c.createElement("div",{ref:F,className:U({disabled:e},v),onMouseEnter:n?Oe:void 0,onMouseLeave:n?Z:void 0,onFocus:n?Oe:void 0,onBlur:n?Z:void 0,style:{top:s.top,left:s.left,insetBlockStart:s.block,insetInlineStart:s.inline},"data-qa":L},c.createElement(Eo,{closeTooltip:ce,openTooltip:_,open:X,openOnHover:n,className:U("handler"),disabled:e,onClick:D,closedManually:k},b),xe)});Kt.displayName="Popover";const Co=fe("text-input"),Pt=c.forwardRef(function({placement:e,children:r,onClick:n},o){return r?c.createElement("div",{ref:o,className:Co("additional-content",{placement:e}),onClick:n},r):null}),Ro=fe("text-input");function Po(t){const{controlProps:e,controlRef:r,type:n,name:o,id:a,tabIndex:l,autoComplete:i,placeholder:s,value:f,defaultValue:u,autoFocus:m,disabled:p,onChange:d,onFocus:g,onBlur:h,onKeyDown:v,onKeyUp:b,onKeyPress:x}=t;return c.createElement("input",Object.assign({},e,{ref:r,className:Ro("control",{type:"input"},e.className),type:n,name:o,id:a,tabIndex:l,placeholder:s,value:f,defaultValue:u,autoFocus:m,autoComplete:i,onChange:d,onFocus:g,onBlur:h,onKeyDown:v,onKeyUp:b,onKeyPress:x,disabled:p??e.disabled}))}const ke=fe("text-input"),na=c.forwardRef(function(e,r){const{view:n="normal",size:o="m",pin:a="round-round",name:l,value:i,defaultValue:s,label:f,disabled:u=!1,hasClear:m=!1,error:p,errorMessage:d,errorPlacement:g="outside",validationState:h,autoComplete:v,id:b,tabIndex:x,style:C,className:y,qa:E,controlProps:w,leftContent:O,rightContent:A,startContent:S=O,endContent:P=A,note:M,onUpdate:D,onChange:T}=e,{errorMessage:I,errorPlacement:L,validationState:N}=ho({error:p,errorMessage:d,errorPlacement:g,validationState:h}),[$,Y]=xr(i,s??"",D),B=c.useRef(null),re=Or({initialValue:$,onReset:Y}),le=Lt(e.controlRef,B,re),j=c.useRef(null),H=c.useRef(null),F=vo(N),k=!!f,W=N==="invalid"&&!!I&&L==="outside",X=N==="invalid"&&!!I&&L==="inside",z=!!(m&&!u&&$),_=!!S,ne=!!P,me=k&&!b&&!l&&typeof v>"u",ce=Ze(),ve=k?b||ce:b,we=pt(k?j:null,o),Ee=pt(_?H:null,o),he=Ze(),ge=Ze(),xe=[w==null?void 0:w["aria-describedby"],M?ge:void 0,W?he:void 0].filter(Boolean).join(" "),Oe=Object.assign(Object.assign({},w),{style:Object.assign(Object.assign({},w==null?void 0:w.style),k&&we.width?{paddingInlineStart:`${we.width}px`}:{}),"aria-invalid":N==="invalid"||void 0,"aria-describedby":xe||void 0}),Z={id:ve,tabIndex:x,name:l,onChange(te){Y(te.target.value),T&&T(te)},autoComplete:me?"off":mo(v),controlProps:Oe},de=te=>{Y("");const G=B.current;if(G){const oe=Object.create(te);oe.target=G,oe.currentTarget=G,G.value="",T&&T(oe)}},Me=te=>{var G,oe;const Fe=!te.currentTarget.contains(document.activeElement)&&te.currentTarget.contains(te.target),ze=!!(!((G=document.getSelection())===null||G===void 0)&&G.toString());Fe&&!ze&&((oe=B.current)===null||oe===void 0||oe.focus())};return c.createElement("span",{ref:r,style:C,className:ke({view:n,size:o,disabled:u,state:F,pin:n==="clear"?void 0:a,"has-clear":z,"has-start-content":_,"has-end-content":z||ne},y),"data-qa":E},c.createElement("span",{className:ke("content")},_&&c.createElement(Pt,{ref:H,placement:"start",onClick:Me},S),k&&c.createElement("label",{ref:j,style:{insetInlineStart:_?Ee.width:void 0,maxWidth:`calc(50% - ${Ee.width}px)`},className:ke("label"),title:f,htmlFor:ve},`${f}`),c.createElement(Po,Object.assign({},e,Z,{controlRef:le})),z&&c.createElement(uo,{size:co(o),onClick:de,className:ke("clear",{size:o})}),ne&&c.createElement(Pt,{placement:"end",onClick:Me},P),X&&c.createElement(Kt,{content:I},c.createElement("span",{"data-qa":po},c.createElement(rt,{data:no,className:ke("error-icon"),size:o==="s"?12:16})))),c.createElement(go,{note:M,errorMessage:W?I:null,noteId:ge,errorMessageId:he}))}),St=fe("spin"),So=c.forwardRef(function(e,r){const{size:n="m",style:o,className:a,qa:l}=e;return c.createElement("div",{ref:r,style:o,className:St({size:n},a),"data-qa":l},c.createElement("div",{className:St("inner")}))});async function To(t,{id:e,defer:r=!1,async:n=!0}){return new Promise((o,a)=>{const l=document.createElement("script");l.src=t,l.id=e,l.defer=r,l.async=n,l.onload=i=>{o(i)},l.onerror=i=>{var f;const s=document.getElementById(e);(f=s==null?void 0:s.parentNode)==null||f.removeChild(s),a(i)},document.head.appendChild(l)})}function Yt(t,e){return e?t/4*3:t/16*9}const Ao=Mt("map");function Mo(t){const{apiKey:e,scriptSrc:r,address:n,lang:o,zoom:a}=t;return`${r}?key=${e}&language=${o}${a?"&zoom="+a:""}&q=${encodeURI(n)}`}const Xt=t=>{const{address:e,zoom:r,className:n}=t,{apiKey:o,scriptSrc:a}=R.useContext(tt),{lang:l=rr.Ru}=R.useContext(Nt),i=R.useContext(kt),[s,f]=R.useState(void 0),u=R.useRef(null),m=R.useMemo(()=>Mo({apiKey:o,scriptSrc:a,address:e,lang:l,zoom:r}),[o,a,e,l,r]);return R.useEffect(()=>{const p=$t(()=>{u.current&&f(Math.round(Yt(u.current.offsetWidth,i)))},100);return p(),window.addEventListener("resize",p,{passive:!0}),()=>{window.removeEventListener("resize",p)}},[i]),!o||!e?null:c.createElement("iframe",{className:Ao(null,n),ref:u,style:{height:s},title:"Google Map",loading:"lazy",allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade",src:m})};Xt.__docgenInfo={description:"",methods:[],displayName:"GoogleMap",props:{zoom:{required:!1,tsType:{name:"number"},description:""},className:{required:!1,tsType:{name:"string"},description:""},address:{required:!0,tsType:{name:"string"},description:""}}};const No="#dc534b",ko="islands#dotIcon",$o=30,Do={iconCaption:"properties",iconContent:"properties",iconColor:"options",preset:"options"};class Io{constructor(e,r){this.coords=[],this.ymap=e,this.mapRef=r}async showPlacemarks(e){this.clearOldPlacemarks();for(const r of e.markers)r.address?await this.findAddress(r):r.coordinate&&this.findCoordinate(r);this.recalcZoomAndCenter(e)}async findAddress(e){try{const n=(await window.ymaps.geocode(e.address,{results:1})).geoObjects.get(0),o=n.geometry.getCoordinates();this.coords.push(o),this.drawPlaceMarkStyle(n,e),this.ymap.geoObjects.add(n)}catch{}}findCoordinate(e){const r=new window.ymaps.Placemark(e.coordinate,{});this.coords.push(e.coordinate),this.drawPlaceMarkStyle(r,e),this.ymap.geoObjects.add(r)}drawPlaceMarkStyle(e,r){const{iconColor:n,preset:o=ko}=r.label||{};let a=n;!o.includes("Stretchy")&&!n&&(a=No),Object.entries({...r.label,iconColor:a,preset:o}).forEach(([l,i])=>{const s=Do[l];i&&s&&e[s].set(l,i)})}recalcZoomAndCenter(e){var i,s;const r=this.coords.length,{zoom:n=0}=e;if(!r)return;let o=[1/0,1/0],a=[-1/0,-1/0];this.coords.forEach(f=>{o=[Math.min(o[0],f[0]),Math.min(o[1],f[1])],a=[Math.max(a[0],f[0]),Math.max(a[1],f[1])]});let l={zoom:n,center:[]};n?l.center=window.ymaps.util.bounds.getCenter([o,a]):l=window.ymaps.util.bounds.getCenterAndZoom([o,a],[(i=this.mapRef)==null?void 0:i.clientWidth,(s=this.mapRef)==null?void 0:s.clientHeight],void 0,{margin:$o}),this.ymap.setCenter(l.center),r>1&&!n&&this.ymap.setZoom(l.zoom)}clearOldPlacemarks(){this.coords.length!==0&&(this.ymap.geoObjects.removeAll(),this.coords=[])}}var Zt=(t=>(t.NotStarted="not_started",t.Loading="loading",t.Loaded="loaded",t.Error="error",t))(Zt||{});const Lo="ymaps-script",ae=class ae{static async loadApi(e,r,n,o){if(ae.status==="loaded")return Promise.resolve();if(ae.status==="loading")return await ae.loader,Promise.resolve();ae.status="loading";const a=o?`csp[style_nonce]=${o}`:"csp=true",l=`${r}?apikey=${e}&lang=${nr[n]}&${a}`;return ae.loader=To(l,{id:Lo}).then(()=>{ae.status="loaded"}).catch(()=>{ae.status="error"}),this.loader}};ae.status="not_started";let Ye=ae;const Bo={"map-load-error":"Error occured while loading the map","map-try-again":"Try again"},jo={"map-load-error":"При загрузке карты произошла ошибка","map-try-again":"Повторить"},Tt=Dt({en:Bo,ru:jo},`${or}Map`),Ve=Mt("map"),Fo="ymap",zo=9,Wo=[0,0],Gt=t=>{const{markers:e,zoom:r,id:n,className:o}=t,{apiKey:a,scriptSrc:l,nonce:i}=R.useContext(tt),s=R.useContext(kt),{lang:f="ru"}=R.useContext(Nt),u=`${Fo}-${n}`,[m,p]=R.useState(null),[d,g]=R.useState(void 0),h=R.useRef(null),[v,b]=R.useState(!1),[x,C]=R.useState(!1),[y,E]=R.useState(0),w=R.useCallback(()=>{E(y+1)},[y]);return R.useEffect(()=>{(async function(){var O;b(!0),await Ye.loadApi(a,l,f,i),(O=window.ymaps)==null||O.ready(()=>{p(new Io(new window.ymaps.Map(u,{center:Wo,zoom:r||zo},{autoFitToViewport:"always"}),h.current))}),b(!1)})()},[a,f,l,u,r,i,y,b]),R.useEffect(()=>{const O=$t(()=>{h.current&&g(Math.round(Yt(h.current.offsetWidth,s)))},100);return O(),window.addEventListener("resize",O,{passive:!0}),()=>{window.removeEventListener("resize",O)}},[e,m,p,s]),R.useEffect(()=>{m&&(async()=>(await m.showPlacemarks({markers:e,zoom:r}),C(!0)))()}),e?c.createElement(Er,{isError:Ye.status===Zt.Error,text:Tt("map-load-error"),buttonText:Tt("map-try-again"),handler:w,className:Ve("wrapper")},c.createElement("div",{className:Ve("wrapper")},c.createElement("div",{id:u,className:Ve({hidden:!x},o),ref:h,style:{height:d}}),v?c.createElement(So,{size:"xl",className:Ve("spinner")}):null)):null};Gt.__docgenInfo={description:"",methods:[],displayName:"YandexMap",props:{zoom:{required:!1,tsType:{name:"number"},description:""},className:{required:!1,tsType:{name:"string"},description:""},markers:{required:!0,tsType:{name:"Array",elements:[{name:"YMapMarker"}],raw:"YMapMarker[]"},description:""},id:{required:!0,tsType:{name:"string"},description:""}}};const _o=t=>{const{type:e}=R.useContext(tt);switch(e){case ft.Yandex:return c.createElement(Gt,{...t});case ft.Google:return c.createElement(Xt,{...t});default:return null}};_o.__docgenInfo={description:"",methods:[],displayName:"Map"};export{uo as C,_o as M,go as O,Kt as P,So as S,na as T,Bt as a,no as b,ro as c,Or as d,ho as e,vo as g,co as m,mo as p,xr as u};
